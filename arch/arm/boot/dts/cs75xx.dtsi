
#include "skeleton.dtsi"
#include <dt-bindings/clock/cs75xx-clock.h>
#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/gpio/gpio.h>
/ {
	compatible = "cortina,cs75xx";

	aliases {
		serial0 = &uart0;
		serial1 = &uart1;
		gpio0 = &gpio0;
		gpio1 = &gpio1;
		gpio2 = &gpio2;
		gpio3 = &gpio3;
		gpio4 = &gpio4;
	};

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;

		cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <0>;
		};
		cpu@1 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <1>;
		};
	};

	amba: amba {
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <1>;
		interrupt-parent = <&gic>;
		ranges;

		gic: interrupt-controller@F8001000 {
			compatible = "arm,cortex-a9-gic";
			#interrupt-cells = <3>;
			interrupt-controller;
			reg = <0xF8001000 0x1000>,
			      <0xF8000100 0x0100>;
			status = "ok";
		};

		l2: l2-cache-controller@F5010000 {
			compatible = "arm,pl310-cache";
			reg = <0xF5010000 0x1000>;
			cache-unified;
			cache-level = <2>;
			status = "ok";
		};

		global_timer: timer@F8000200 {
			compatible = "arm,cortex-a9-global-timer";
			interrupt-parent = <&gic>;
			reg = <0xF8000200 0x20>;
			interrupts = <GIC_PPI 11 IRQ_TYPE_EDGE_RISING>;
			clocks = <&mainclk CS75XX_CLK_APB>;
			status = "ok";
		};

		scutimer: scu_timer@F8000600 {
			compatible = "arm,cortex-a9-twd-timer";
			interrupt-parent = <&gic>;
			reg = <0xF8000600 0x20>;
			interrupts = <GIC_PPI 13 IRQ_TYPE_EDGE_RISING>;
			clocks = <&mainclk CS75XX_CLK_APB>;
			status = "ok";
		};

		mainclk: clock@F000000C {
			compatible = "cortina,cs75xx-clk";
			reg = <0xF000000C 0x04>;	/* global strap */
			#clock-cells = <1>;
			status = "ok";
		};

		intc: regbus_intc@F0070004 {
			compatible = "cortina,cs75xx-intc";
			interrupt-controller;
			#interrupt-cells = <1>;
			interrupt-parent = <&gic>;
			interrupts = <GIC_SPI 3 4>;
			reg = <0xF0070004 0x8>;
			status = "ok";
		};

		uart0: serial@F0070110 {
			compatible = "cortina,cs75xx-uart";
			reg = <0xF0070110 0x30>;
			interrrupt-parent = <&gic>;
			interrupts = <GIC_SPI 6 4>;	/* 38 - 32 = 6 */
			clocks = <&mainclk CS75XX_CLK_APB>;
			status = "ok";
		};
		uart1: serial@F0070140 {
			compatible = "cortina,cs75xx-uart";
			reg = <0xF0070140 0x30>;
			interrrupt-parent = <&gic>;
			interrupts = <GIC_SPI 7 4>;	/* 39 - 32 = 7 */
			clocks = <&mainclk CS75XX_CLK_APB>;
			status = "ok";
		};

		gpio0: gpio@F00701D0 {
			compatible = "cortina,cs75xx-gpio";
			reg = <0xF00701D0 0x20>, <0xF000001C 0x04>;
			interrupts = <6>;
			interrupt-parent = <&intc>;
			gpio-controller;
			#gpio-cells = <2>;
			interrupt-controller;
			#interrupt-cells = <2>;
		};
		gpio1: gpio@F00701F0 {
			compatible = "cortina,cs75xx-gpio";
			reg = <0xF00701F0 0x20>, <0xF0000020 0x04>;
			interrupts = <7>;
			interrupt-parent = <&intc>;
			gpio-controller;
			#gpio-cells = <2>;
			interrupt-controller;
			#interrupt-cells = <2>;
		};
		gpio2: gpio@F0070210 {
			compatible = "cortina,cs75xx-gpio";
			reg = <0xF0070210 0x20>, <0xF0000024 0x04>;
			interrupts = <8>;
			interrupt-parent = <&intc>;
			gpio-controller;
			#gpio-cells = <2>;
			interrupt-controller;
			#interrupt-cells = <2>;
		};
		gpio3: gpio@F0070230 {
			compatible = "cortina,cs75xx-gpio";
			reg = <0xF0070230 0x20>, <0xF0000028 0x04>;
			interrupts = <9>;
			interrupt-parent = <&intc>;
			gpio-controller;
			#gpio-cells = <2>;
			interrupt-controller;
			#interrupt-cells = <2>;
		};
		gpio4: gpio@F0070250 {
			compatible = "cortina,cs75xx-gpio";
			reg = <0xF0070250 0x20>, <0xF000002C 0x04>;
			interrupts = <10>;
			interrupt-parent = <&intc>;
			gpio-controller;
			#gpio-cells = <2>;
			interrupt-controller;
			#interrupt-cells = <2>;
		};
	};
};
